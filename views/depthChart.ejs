<!-- This is depth chart page. Similar to roster it displays all of the players on the team but -->
<!-- focuses on grades and the addition of notes. -->
<style>
    @media all and (min-width: 600px) {
      .bodyContainer {
        flex: 2 0px;
      }
      .sidenav {
        order: 1;
      }
      .rBody {
        order: 2;
      }
    }
  </style>
  <link rel="stylesheet" type="text/css" href="css/style.css"/>
  <div class="bigContainer">
    <%- include("partials/topnav") %>
    <!-- Side navigation -->
    <div class="bodyContainer">
      <%- include("partials/sidenav") %>  
      <div class="rBody">
        <h2>Depth Chart</h2>
        <!-- Fix show function displays DepthChart data-->
        <div class="rosterRow">
          <div class="btn-group" style="padding: 10px">
            <button
              class="btn btn-primary dropdown-toggle"
              data-toggle="dropdown"
            >
              <%= school %> 2020
            </button>
            <div class="dropdown-menu">
              <a class="dropdown-item"><%= school %> 2018</a>
              <a class="dropdown-item"><%= school %> 2019</a>
              <a class="dropdown-item"><%= school %> 2020</a>
            </div>
          </div>
          <div
            class="form-group"
            role="group"
            aria-label="Button group with nested dropdown"
          >
            <form action="/coach/table" method="POST">
              <!-- <button type="button" class="btn btn-primary">Sort By</button> -->
              <div class="dropdown" role="group" style="padding-top: 10px;">
                <button
                  id="btnGroupDrop1"
                  type="button"
                  class="btn btn-primary dropdown-toggle"
                  data-toggle="dropdown"
                  aria-haspopup="true"
                  aria-expanded="false"
                >Sort By</button>
                <div class="dropdown-content" aria-labelledby="btnGroupDrop1">
                  <button
                    class="dropdown-item"
                    type="submit"
                    name="type"
                    value="full"
                  >
                    View Whole Roster
                  </button>
                  <button
                    class="dropdown-item"
                    type="submit"
                    name="type"
                    value="qb"
                  >
                    View Quarterbacks
                  </button>
                  <button
                    class="dropdown-item"
                    type="submit"
                    name="type"
                    value="wr"
                  >
                    View Wide Receivers
                  </button>
                  <button
                    class="dropdown-item"
                    type="submit"
                    name="type"
                    value="k"
                  >
                    View Kickers
                  </button>
                  <button
                    class="dropdown-item"
                    type="submit"
                    name="type"
                    value="lb"
                  >
                    View Linebackers
                  </button>
                  <button
                    class="dropdown-item"
                    type="submit"
                    name="type"
                    value="gy"
                  >
                    Sort By Graduation Year (Ascending)
                  </button>
                  <button
                    class="dropdown-item"
                    type="submit"
                    name="type"
                    value="gyd"
                  >
                    Sort By Graduation Year (Descending)
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>
  
        <table class="table table-hover" style="padding: 500px">
          <thead>
            <tr class="table-dark">
              <th scope="col">Position</th>
              <th scope="col">Name</th>
              <th scope="col">Game Grade</th>
              <th scope="col">Practice Grade</th>
              <th scope="col">Notes</th>
            </tr>
          </thead>
          <tbody>
            <ul class="players">
              <!-- Loops through all players in the roster db displaying -->
              <!-- position, name, game grade, practice grade, edit notes link -->
              <% for(var i = 0; i < players.length; i++) {%>
              <tr class="table-default">
                <td><%= players[i].Pos %></td>
                <td><%= players[i].FullName %></td>
                <td>0</td>
                <td>1</td>
                <td id="notes" onclick="openNotes('<%= players[i].FullName %>')">Click to view/edit notes.</td>
              </tr>
              <div class="form-popup" style="display: none;" id="<%- players[i].FullName %>Form">
                <form action="/action_page.php" class="form-container">
                  <h1><%= players[i].FullName %> Notes</h1>
              
                  <textarea>  </textarea>
              
                  <button type="submit" class="btn">Save</button>
                  <button type="button" class="btn cancel" onclick="closeForm('<%= players[i].FullName %>')">Close</button>
                </form>
              </div>
              <% } %>
            </ul>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <script>
    // Makes sidebar work
    var dropdown = document.getElementsByClassName("dropdown-btn");
    var i;
  
    for (i = 0; i < dropdown.length; i++) {
      dropdown[i].addEventListener("click", function () {
        this.classList.toggle("active");
        var dropdownContent = this.nextElementSibling;
        if (dropdownContent.style.display === "block") {
          dropdownContent.style.display = "none";
        } else {
          dropdownContent.style.display = "block";
        }
      });
    }
    // Makes buttons work
    var dropdown = document.getElementsByClassName("dropdown-toggle");
    var i;

    for (i = 0; i < dropdown.length; i++) {
      dropdown[i].addEventListener("click", function () {
        this.classList.toggle("active");
        var dropdownContent = this.nextElementSibling;
        if (dropdownContent.style.display === "block") {
          dropdownContent.style.display = "none";
        } else {
          dropdownContent.style.display = "block";
        }
      });
    }
    // Notes functions
    function openNotes(id) {
      document.getElementById(id+'Form').style.display = "block";
    }
    function closeForm(id) {
      document.getElementById(id+'Form').style.display = "none";
    }
  </script>
  