<!-- This is depth chart page. Similar to roster it displays all of the players on the team but -->
<!-- focuses on grades and the addition of notes. -->
<style>
    @media all and (min-width: 600px) {
      .bodyContainer {
        flex: 2 0px;
      }
      .sidenav {
        order: 1;
      }
      .rBody {
        order: 2;
      }
    }
  </style>
  <link rel="stylesheet" type="text/css" href="css/style.css"/>
  <div class="bigContainer">
    <%- include("partials/topnav") %>
    <!-- Side navigation -->
    <div class="bodyContainer">
      <%- include("partials/sidenav") %>  
      <div class="rBody">
        <div class="rosterRow">
          <h2>Depth Chart</h2>
        </div>
  
        <table class="table table-hover" style="padding: 500px">
          <thead>
            <tr class="table-dark">
              <th scope="col">Position</th>
              <th scope="col">Name</th>
              <th scope="col">Game Grade</th>
              <th scope="col">Practice Grade</th>
              <th scope="col">Notes</th>
            </tr>
          </thead>
          <tbody>
            <ul class="players">
              <!-- Loops through all players in the roster db displaying -->
              <!-- position, name, game grade, practice grade, edit notes link -->
              <% for(var i = 0; i < players.length; i++) {%>
              <tr class="table-default">
                <td><%= players[i].Pos %></td>
                <td><%= players[i].FullName %></td>
                <td>0</td>
                <td>1</td>
                <td id="notes" onclick="openNotes('<%= players[i].FullName %>')">Click to view/edit notes.</td>
              </tr>
              <div class="form-popup" style="display: none;" id="<%- players[i].FullName %>Form">
                <form action="/action_page.php" class="form-container">
                  <h1><%= players[i].FullName %> Notes</h1>
              
                  <textarea>  </textarea>
              
                  <button type="submit" class="btn">Save</button>
                  <button type="button" class="btn cancel" onclick="closeForm('<%= players[i].FullName %>')">Close</button>
                </form>
              </div>
              <% } %>
            </ul>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <script>
    // Makes sidebar work
    var dropdown = document.getElementsByClassName("dropdown-btn");
    var i;
  
    for (i = 0; i < dropdown.length; i++) {
      dropdown[i].addEventListener("click", function () {
        this.classList.toggle("active");
        var dropdownContent = this.nextElementSibling;
        if (dropdownContent.style.display === "block") {
          dropdownContent.style.display = "none";
        } else {
          dropdownContent.style.display = "block";
        }
      });
    }
    // Notes functions
    function openNotes(id) {
      document.getElementById(id+'Form').style.display = "block";
    }
    function closeForm(id) {
      document.getElementById(id+'Form').style.display = "none";
    }
  </script>
  